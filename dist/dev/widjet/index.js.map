{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/widjet/index.js","webpack:///./src/widjet/scss/index.scss","webpack:///./src/widjet/settings/settings.js","webpack:///./src/widjet/widjet/helpers/widget-position.js","webpack:///./src/widjet/widjet/local-storage/local-storage.js","webpack:///./src/widjet/widjet/open-widjet/open-widjet.js","webpack:///./src/widjet/widjet/widjet.js"],"names":["Widjet","TOKENKEY","DOMEN","PATH","WidgetPosition","TopPosition","x","y","LeftPosition","RightPosition","DownLeftPosition","DownRightPosition","positionTypes","positionType","hasOwnProperty","console","log","JSON","stringify","LocalStorage","localStorage","getItem","openWidjet","config","token","options","domain","path","bg_color","colorSchema","widgetPos","person","personAtr","pos","posSchema","returnPosByType","Widget","created","widgetElement","show","document","createElement","setAttribute","innerHTML","body","insertBefore","nextSibling","TOKEN","CONFIG","getConfig","getToken"],"mappings":"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","file":"widjet/index.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","'use strict';\r\n import Widjet  from './widjet/widjet.js';\r\n\r\nnew Widjet();","// removed by extract-text-webpack-plugin","\"use strict\";\r\nconst TOKENKEY = 'TOKENKEY';\r\nconst DOMEN = 'http://127.0.0.1:8080';\r\nconst PATH = '/dist/dev/widjet/index.html';\r\nexport default {TOKENKEY, DOMEN, PATH};","class WidgetPosition {\r\n\r\n\tconstructor() {\r\n     const TopPosition = {x:\".top = '5%';\", y:\".right = '40%';\"};\r\n     const LeftPosition = `this.widgetElement.style.top = '40%';this.widgetElement.style.left = '5%';`;\r\n     const RightPosition = `this.widgetElement.style.top = '40%';this.widgetElement.style.right = '5%';`;\r\n     const DownLeftPosition = `this.widgetElement.style.bottom = '5%';this.widgetElement.style.left = '5%';`;\r\n     const DownRightPosition = `this.widgetElement.style.bottom = '5%';this.widgetElement.style.right = '5%';`;\r\n\r\n\t\tthis.positionTypes = {\r\n\t\t\t'top' : TopPosition,\r\n\t\t\t'left' : LeftPosition,\r\n            'right': RightPosition,\r\n            'down-left': DownLeftPosition,\r\n            'down-right': DownRightPosition\r\n};\r\n}\r\n\r\n\treturnPosByType(positionType) {\r\n\t\tif(this.positionTypes.hasOwnProperty( positionType )) {\r\n\t\t\treturn this.positionTypes[positionType];\r\n}\r\n//  обработчик ошибки\r\n    return DownRightPosition;\r\n\t}\r\n\r\n}\r\nexport default WidgetPosition;","\"use strict\";\r\nimport TOKENKEY from '../../settings/settings.js';\r\n\r\n// localStorage.setItem(TOKENKEY, 'myValue');\r\n//localStorage.removeItem(TOKENKEY);\r\n console.log('TOKENKEY = ' + JSON.stringify(TOKENKEY.TOKENKEY));\r\nconst LocalStorage = localStorage.getItem(TOKENKEY);\r\n console.log('LocalStorage = ' + LocalStorage);\r\n\r\nexport default LocalStorage;","\"use strict\";\r\nimport View from '../view/view'\r\nimport DOMEN from '../../settings/settings.js';\r\nimport PATH from '../../settings/settings.js';\r\nimport WidgetPosition from '../helpers/widget-position';\r\n\r\nfunction openWidjet(config, token){\r\n\r\n\tvar options = {\r\n\t\tdomain: JSON.stringify(DOMEN.DOMEN),\r\n\t\tpath: JSON.stringify(PATH.PATH),\r\n        bg_color: \"FFFFFF\",\r\n        colorSchema: config.colorSchema,\r\n\t\twidgetPos: config.widgetPos,\r\n\t\tperson: 'Фиталий Филиповский',\r\n\t\tpersonAtr: 'Консультант' \r\n\t};\r\n\t\r\n\t\r\n\tlet pos = new WidgetPosition();\r\n\tlet posSchema = pos.returnPosByType(\"top\");\r\n\tlet x = JSON.stringify(posSchema);\r\n\r\n\tconsole.log('x ' + x); \r\n\r\n\tvar Widget = {\r\n\t\tcreated: false,\r\n\t\twidgetElement: null,\r\n\t\tshow: function() {\r\n\t\t\tif (this.created)\r\n\t\t\t\treturn;\r\n\t\t\tthis.widgetElement = document.createElement('div');\r\n\t\t\tthis.widgetElement.setAttribute('id', 'widget_container');\r\n\t\t\tthis.widgetElement.innerHTML = `\r\n\t\t\t<div class=\"widget_container__body\">\r\n\t\t\t<div class=\"widget_container__header\">\r\n\t\t\t\t<div class=\"widget_container__header-img\"><img src=\"https://secure.gravatar.com/avatar/0b1605b84a7bf445ce2af7348089c70c?s=60&d=mm&r=g\" /></div>\r\n\t\t\t\t<div class=\"widget_container__header-desc\"><h4>${options.person}</h4><h5>${options.personAtr}</h5></div>\r\n\t\t\t</div>\r\n\t\t\t<form class=\"widget_container__form\">\r\n\t\t\t\t<div class=\"widget_container__messages\"></div>\r\n\t\t\t\t<textarea rows=\"5\" cols=\"30\" name=\"text\" placeholder=\"Введите сообщение\"></textarea>\r\n\t\t\t\t<button type=\"button\" id=\"widget_container__clear\" class=\"widget_container__button\">Отправить</button>\r\n\t\t\t\t<button type=\"button\" id=\"widget_container__submit\" class=\"widget_container__button\">Отправить</button>\r\n\t\t\t</form>\r\n\t\t</div>`;\r\n\t\t\tdocument.body.insertBefore(this.widgetElement, document.body.nextSibling);\r\n\t\t\tposSchema;\t\r\n\r\n\t\t\t\r\n\t\t/*\tthis.widgetElement.style.top = '50%';\r\n\t\t\tthis.widgetElement.style.right = '5%'; */\r\n\t\t\t\r\n\t\t\tthis.created = true;\r\n\t\t}\r\n\t}\r\n\r\n\tWidget.show();\r\n\r\n}\r\n\r\n\r\nexport default openWidjet;","\"use strict\";\r\nimport localStorage from './local-storage/local-storage';\r\nimport openWidjet from './open-widjet/open-widjet';\r\n\r\nclass Widget{\r\n   \r\n\r\n    getConfig(){\r\n        // делаем вебсокер запрос о конфиге\r\n        var config = {\r\n            colorSchema: 'light',\r\n            widgetPos: 'up'\r\n        };\r\n        return config;\r\n    };\r\n    getToken(){\r\n        if(!localStorage){\r\n            // если в ЛС ничего не нашли то делаем запрос на токен\r\n          }\r\n          const TOKEN = '123456789';\r\n          return TOKEN;\r\n    };\r\n\r\n\r\n    constructor(){\r\n        \r\n        const CONFIG = this.getConfig();\r\n        const TOKEN = this.getToken();\r\n        openWidjet(CONFIG, TOKEN);\r\n\r\n    }\r\n};\r\n\r\n\r\nexport default Widget;"],"sourceRoot":""}